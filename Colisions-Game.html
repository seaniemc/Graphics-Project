<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
        canvas{
            background-color: black;
        }
    </style>

</head>

<body>
    <div style="position: absolute; top: 50px; left: 50px;">
    <canvas id="canvas-for-Game" width ="1000" height="600"></canvas>
    <script language="javascript" src="jquery-2.1.4.min (1).js"></script>
    <script>
        window.onload = function () {
            //global variables 
            var canvas = document.getElementById("canvas-for-Game");
            // Get a 2D context for the canvas.
            var ctx = canvas.getContext("2d");
            // Make the fill style red.
            var stars = [];//stars array
            var numOfStars = 3;//controls the number of stars
            var counter;
            //object used to create the spaceship.
          var spaceShip = {
                position: {
                    x: canvas.width / 2, 
                    y: canvas.height - 20
                },
                size: {
                    width: 50, 
                    height: 12
                }, 
                Velocity: {
                    x: 20
                }, 
         
                drawSpaceShip: function(){ // Draw Spaceship Object
                    ctx.beginPath();
                    ctx.fillStyle = "blue";
                    ctx.fillRect(this.position.x, this.position.y, this.size.width, this.size.height);
                    ctx.fillRect(this.position.x + 15, this.position.y, this.size.width - 30, this.size.height / 2 - 12);
                    ctx.fillRect(this.position.x + 22.5, this.position.y, this.size.width - 45, this.size.height / 2 - 15);
                    ctx.closePath();
                    ctx.fill();
                    
                    if(spaceShip.position.x >= canvas.width - spaceShip.size.width)
			         spaceShip.position.x = canvas.width - spaceShip.size.width;
		
                    if(spaceShip.position.x <= spaceShip.size.width - spaceShip.size.width)
			         spaceShip.position.x = spaceShip.size.width - spaceShip.size.width;
                    
                    if(spaceShip.position.y >= canvas.height - spaceShip.size.height)
			         spaceShip.position.y = canvas.height - spaceShip.size.height;
		
                    if(spaceShip.position.y <= spaceShip.size.height - spaceShip.size.height)
			         spaceShip.position.y = spaceShip.size.height - spaceShip.size.height;
		
		
                
                   requestAnimationFrame(this.drawSpaceShip.bind(this));
                }// End drawShip function 
            };// End spaceShip Object
            
           
            
            function Star(x, y, rad, velocity, fill){
                this.x = Math.floor(Math.random() * 985 + 15);//this create a random number between 15 and 985 on the x axis
                this.y = 0;
                this.rad = Math.floor((Math.random() * 30) + 15);//this create a random number between 15 and 30 for the radius
                this.velocity = 5;
                this.fill = fill 

                this.draw = function(){
                    ctx.beginPath();
                    ctx.fillStyle = this.fill;                         
                    ctx.arc(this.x, this.y, this.rad, 0, Math.PI * 2, true);
                    ctx.closePath();
                    ctx.fill();
                    this.y += this.velocity;
                }
            }
            //this function creates multiple instances of Star constructor function.
            function createMultipleStars(){
                for (var i = 0; i <= numOfStars; i++)
                    stars[i] = new Star(i * 50, 10, i, i, "rgba(255,215,0,0.6)");
            }
            /
            //Darws the Stars on the canvas.
            function step() {
                ctx.clearRect(0,0,canvas.width, canvas.height);
                
                for (var i = 0; i<= numOfStars; i++){
                     stars[i].draw();
                    if(spaceShip.position.x < stars[i].x + stars[i].rad && spaceShip.position.x + spaceShip.size.width > stars[i].x 
                          && spaceShip.position.y < stars[i].y + stars[i].rad && spaceShip.position.y + spaceShip.size.height > stars[i].y){
                           counter += 1;
                        console.log(counter);
                    }
                    
                }
                stars[i].velocity = 6;
                requestAnimationFrame(step);
            }//step
            
           
            var gameLoop = setInterval(function(){ init() }, 3000);
            
          function init(){
              createMultipleStars();
              step();
              spaceShip.drawSpaceShip();
          }
            
            
             window.addEventListener("keydown", function (event) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                if (event.keyCode == 39 && spaceShip.position.x < canvas.width)
                    spaceShip.position.x += spaceShip.Velocity.x;
                 
                else if (event.keyCode == 37 )
                    spaceShip.position.x -= spaceShip.Velocity.x;
                    
                else if (event.keyCode == 40 && spaceShip.position.y < canvas.height)
                    spaceShip.position.y += spaceShip.Velocity.x;
                    
                  
                spaceShip.drawSpaceShip();
            });
        }//onLoad function
        
    </script>
    </div>
</body>

</html>